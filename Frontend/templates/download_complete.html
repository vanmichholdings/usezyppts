{% extends "base.html" %}
{% block title %}All set â€“ Download Complete{% endblock %}
{% block content %}
<div class="status-shell">
  <canvas id="confetti" class="confetti"></canvas>
  <div class="orb-wrap">
    <div class="orb"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
  </div>
  <div class="status-text">
    <div class="fade in" id="complete-message">All set! Your files are ready. Zip complete. Go make magic.</div>
  </div>
</div>
<style>
:root { --bg: #0b1020; --fg: #e7ecff; --accent:#3B5EF7; }
@media (prefers-color-scheme: light) { :root { --bg:#f6f7fb; --fg:#0b1020; --accent:#3B5EF7; } }
body { background: var(--bg); }
.status-shell { min-height: calc(100vh - 80px); display:flex; flex-direction:column; align-items:center; justify-content:center; padding:40px 16px; text-align:center; position:relative; overflow:hidden; }
.orb-wrap { position:relative; width:180px; height:180px; filter: drop-shadow(0 20px 40px rgba(59,94,247,.25)); }
.orb { position:absolute; inset:0; border-radius:50%; background: radial-gradient(40% 40% at 35% 35%, rgba(255,255,255,.35), rgba(255,255,255,0) 60%),
            radial-gradient(60% 60% at 70% 70%, var(--accent), #8ba5ff);
  animation: morph 6s ease-in-out infinite, pulse 3s ease-in-out infinite; mix-blend-mode: screen; }
.orb-2 { filter: blur(12px); opacity:.9; animation-delay: .8s; }
.orb-3 { filter: blur(24px); opacity:.6; animation-delay: 1.6s; }
@keyframes morph { 0%,100%{ transform: scale(1) rotate(0deg); border-radius: 42% 58% 60% 40% / 45% 40% 60% 55%; }
  25%{ transform: scale(1.05) rotate(15deg); border-radius: 58% 42% 40% 60% / 55% 60% 40% 45%; }
  50%{ transform: scale(0.98) rotate(-10deg); border-radius: 50% 50% 58% 42% / 40% 60% 50% 50%; }
  75%{ transform: scale(1.04) rotate(8deg); border-radius: 38% 62% 45% 55% / 58% 42% 55% 45%; } }
@keyframes pulse { 0%,100%{ box-shadow: 0 0 0 0 rgba(59,94,247,.35);} 50%{ box-shadow: 0 0 40px 12px rgba(59,94,247,.18);} }
.status-text { margin-top: 22px; color: var(--fg); font-weight: 700; font-size: 1.15rem; }
.status-text .fade { opacity:0; transform: translateY(6px); transition: opacity .35s ease, transform .35s ease; }
.status-text .in { opacity:1; transform: translateY(0); }
.confetti { position:absolute; inset:0; pointer-events:none; }
</style>
<script>
// Minimal confetti for 4 seconds, then fade out
(function(){
  const c = document.getElementById('confetti');
  const ctx = c.getContext('2d');
  let w, h, t = 0, running = true;
  function resize(){ w = c.width = window.innerWidth; h = c.height = window.innerHeight; }
  window.addEventListener('resize', resize); resize();
  const pieces = Array.from({length: 120}).map(()=>({
    x: Math.random()*w,
    y: -Math.random()*h,
    r: 4+Math.random()*6,
    c: `hsl(${Math.floor(Math.random()*360)},90%,60%)`,
    v: 1.5+Math.random()*2.5,
    s: Math.random()*2*Math.PI
  }));
  function frame(){
    if(!running) return; t+=0.016; ctx.clearRect(0,0,w,h);
    pieces.forEach(p=>{ p.y+=p.v; p.x+=Math.sin(p.y/30); p.s+=0.05; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.s); ctx.fillStyle=p.c; ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r); ctx.restore(); if(p.y>h+20){ p.y=-10; p.x=Math.random()*w; }});
    requestAnimationFrame(frame);
  }
  frame();
  setTimeout(()=>{ c.style.transition='opacity .8s ease'; c.style.opacity='0'; setTimeout(()=>{ running=false; }, 900); }, 4200);
})();
</script>
{% endblock %} 